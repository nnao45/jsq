"use strict";(this.webpackChunkJSQ=this.webpackChunkJSQ||[]).push([[593],{348:(t,e,n)=>{n.d(e,{NZ:()=>i,qK:()=>r});class r{constructor(t=52428800,e=1e4){this.cache=new Map,this.currentSize=0,this.maxSize=t,this.maxEntries=e}get(t){const e=this.cache.get(t);if(e)return e.lastAccessed=Date.now(),this.cache.delete(t),this.cache.set(t,e),e.value}set(t,e,n){const r=this.cache.get(t);for(r&&(this.currentSize-=r.size,this.cache.delete(t));(this.currentSize+n>this.maxSize||this.cache.size>=this.maxEntries)&&this.cache.size>0;){const t=this.cache.keys().next().value,e=this.cache.get(t);e&&(this.currentSize-=e.size,this.cache.delete(t))}n<=this.maxSize&&(this.cache.set(t,{value:e,size:n,lastAccessed:Date.now()}),this.currentSize+=n)}clear(){this.cache.clear(),this.currentSize=0}get size(){return this.cache.size}get sizeInBytes(){return this.currentSize}getStats(){return{entries:this.cache.size,sizeInBytes:this.currentSize,maxEntries:this.maxEntries,maxSizeInBytes:this.maxSize}}}function i(t){return 2*t.length}},593:(t,e,n)=>{n.r(e),n.d(e,{ExpressionTransformer:()=>E,hasAsyncGeneratorMethods:()=>s,hasAsyncMethods:()=>c,hasPipeOperator:()=>g,isArrayLiteralWithMethods:()=>a,splitByPipe:()=>D,transformArrayLiteralExpression:()=>l,transformAsyncGeneratorExpression:()=>p,transformExpression:()=>i,transformPipeExpression:()=>b});var r=n(348);function i(t,e){const n=t.trim();if(e){const n=e.get(t);if(void 0!==n)return n}let i;return n.includes("\n")&&/\b(while|for|if|switch|do)\s*[({]/.test(n)||n.includes("\n")&&/^\s*(const|let|var)\s+/.test(n)&&!function(t){if(t.includes("\n")){const e=t.split("\n").map(t=>t.trim()).filter(t=>t),n=e.some(t=>t.endsWith(";"));return e.some(t=>{const e=(t.match(/;/g)||[]).length;return e>1||1===e&&!t.endsWith(";")})&&!n}return y(t)}(n)?i=t:y(n)?(console.error("Transforming semicolon expression:",n),i=x(n)):i=z(n)?v(n):g(n)?b(n):a(n)?l(n):s(n)?n:"$"===n?"$":"_"===n?"_":t,e&&e.set(t,i,(0,r.NZ)(t)+(0,r.NZ)(i)),i}function s(t){return["interval","timer"].some(e=>t.includes(`.${e}(`)||t.match(new RegExp(`\\$\\.${e}\\(`)))}function c(t){return["forEachAsync","forEachAsyncSeq","mapAsync","mapAsyncSeq"].some(e=>t.includes(`.${e}(`)||t.match(new RegExp(`\\$\\.${e}\\(`)))}function a(t){const e=t.trim();return e.startsWith("[")&&e.includes("].")&&!e.startsWith("$.")}function o(t,e,n,r){return!n&&u(t)||n&&t===r&&"\\"!==e}function h(t,e,n,r){return!n&&u(t)?{inString:!0,stringChar:t}:n&&t===r&&"\\"!==e?{inString:!1,stringChar:void 0}:{inString:n,stringChar:r}}function u(t){return'"'===t||"'"===t||"`"===t}function l(t){const e=t.trim(),n=function(t){let e,n=0,r=!1;for(let i=0;i<t.length;i++){const s=t.charAt(i),c=i>0?t.charAt(i-1):void 0;if(o(s,c,r,e)){const t=h(s,c,r,e);r=t.inString,e=t.stringChar;continue}if(!r)if("["===s)n++;else if("]"===s&&(n--,0===n))return i}return-1}(e);return-1===n?t:`createSmartDollar(${e.substring(0,n+1)})${e.substring(n+1)}`}function p(t){return t}function f(t,e,n){if(!t.inString&&('"'===e||"'"===e||"`"===e))return t.inString=!0,void(t.stringChar=e);t.inString&&e===t.stringChar&&"\\\\"!==n&&(t.inString=!1,t.stringChar=void 0)}function m(t,e){"("===e&&t.parenDepth++,")"===e&&t.parenDepth--,"{"===e&&t.braceDepth++,"}"===e&&t.braceDepth--,"["===e&&t.bracketDepth++,"]"===e&&t.bracketDepth--}function $(t,e,n){const r=t.charAt(e),i=t.charAt(e+1),s=t.charAt(e+2);return" "===r&&"|"===i&&" "===s&&0===n.parenDepth&&0===n.braceDepth&&0===n.bracketDepth}function g(t){const e={inString:!1,stringChar:void 0,parenDepth:0,braceDepth:0,bracketDepth:0};for(let n=0;n<t.length-2;n++){const r=t.charAt(n);if(f(e,r,n>0?t.charAt(n-1):""),!e.inString&&(m(e,r),$(t,n,e)))return!0}return!1}function b(t){const e=D(t);if(e.length<=1)return t;let n=e[0]?.trim()||"";for(let t=1;t<e.length;t++){const r=e[t]?.trim()||"";n=r.startsWith("$")?r.replace(/^\$/,`(${n})`):r.startsWith("_.")||r.startsWith("lodash.")||r.match(/^(Math|Date|Object|Array|String|Number|Boolean|console)\.[a-zA-Z_$][a-zA-Z0-9_$]*\(/)?r:`(${n}).${r}`}return n}function S(t,e,n){return f(t,e,n||""),e}function d(t,e,n,r){return"|"===t&&" "===e&&" "===n&&0===r.parenDepth&&0===r.braceDepth&&0===r.bracketDepth}function A(t,e){return t.push(e.trim()),""}function D(t){const e=[];let n="";const r={inString:!1,stringChar:void 0,parenDepth:0,braceDepth:0,bracketDepth:0};for(let i=0;i<t.length;i++){const s=t.charAt(i),c=t.charAt(i+1),a=i>0?t.charAt(i-1):void 0;n+=S(r,s,a),r.inString||(m(r,s),d(s,a,c,r)&&(n=n.slice(0,-1),n=A(e,n),i++))}return function(t,e){e.trim()&&t.push(e.trim())}(e,n),e}function z(t){const e=t.trim();return/^(const|let)\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=\s*([^|]+)\s*\|\s*(.+)$/.test(e)}function v(t){const e=t.trim();return function(t){return/\|\s*(const|let)\s+[a-zA-Z_$][a-zA-Z0-9_$]*\s*=/.test(t)}(e)?function(t){const e=[];let n=t.trim(),r="";for(;;){const t=n.match(/^(const|let)\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=\s*([^|]+)\s*\|\s*(.*)$/);if(!t){r=n.trim();break}const[,i,s,c,a]=t;if(!(i&&s&&c&&void 0!==a))break;e.push(`${i} ${s} = ${c.trim()};`),n=a.trim()}return/\bawait\b/.test(t)?`(async () => {\n      ${e.join("\n      ")}\n      return ${r};\n    })()`:`(() => {\n      ${e.join("\n      ")}\n      return ${r};\n    })()`}(e):function(t){const e=t.match(/^(const|let)\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=\s*([^|]+)\s*\|\s*(.+)$/);if(!e)return t;const[,n,r,i,s]=e;return r&&i&&s?/\bawait\b/.test(i)||/\bawait\b/.test(s)?`(async () => { \n      let ${r} = ${i.trim()}; \n      if (${r} && typeof ${r} === 'object' && ('value' in ${r} || 'valueOf' in ${r})) {\n        ${r} = ${r}.value !== undefined ? ${r}.value : ${r}.valueOf();\n      }\n      return ${s.trim()}; \n    })()`:`(() => { \n      let ${r} = ${i.trim()}; \n      if (${r} && typeof ${r} === 'object' && ('value' in ${r} || 'valueOf' in ${r})) {\n        ${r} = ${r}.value !== undefined ? ${r}.value : ${r}.valueOf();\n      }\n      return ${s.trim()}; \n    })()`:t}(e)}function y(t){const e={inString:!1,stringChar:void 0,parenDepth:0,braceDepth:0,bracketDepth:0};for(let n=0;n<t.length;n++){const r=t.charAt(n);if(f(e,r,n>0?t.charAt(n-1):""),!e.inString&&(m(e,r),";"===r&&0===e.parenDepth&&0===e.braceDepth&&0===e.bracketDepth))return console.error("Found semicolon operator at position",n,"in expression:",t),!0}return!1}function x(t){const e=k(t);if(e.length<=1)return t;const n=/\bawait\b/.test(t),r=e.slice(0,-1),i=e[e.length-1];return i?n?`(async () => {\n      ${r.map(t=>`${t.trim()};`).join("\n      ")}\n      return ${i.trim()};\n    })()`:`(() => {\n      ${r.map(t=>`${t.trim()};`).join("\n      ")}\n      return ${i.trim()};\n    })()`:t}function k(t){const e=[];let n="";const r={inString:!1,stringChar:void 0,parenDepth:0,braceDepth:0,bracketDepth:0};for(let i=0;i<t.length;i++){const s=t.charAt(i);f(r,s,i>0?t.charAt(i-1):""),n+=s,r.inString||(m(r,s),";"===s&&0===r.parenDepth&&0===r.braceDepth&&0===r.bracketDepth&&(n=n.slice(0,-1),n.trim()&&e.push(n.trim()),n=""))}return n.trim()&&e.push(n.trim()),e}const E={transform:i,hasPipeOperator:g,transformPipeExpression:b,splitByPipe:D,hasVariablePipelineDeclaration:z,transformVariablePipelineDeclaration:v,hasSemicolonOperator:y,transformSemicolonExpression:x,splitBySemicolon:k}}}]);